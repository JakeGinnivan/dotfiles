# Custom word characters for better word navigation
export WORDCHARS='*?[]~=/&;!#$%^(){}<>'

# Zephyr plugin configuration
zstyle ':zephyr:plugin:directory:alias' 'skip' 'yes'
source /opt/homebrew/opt/antidote/share/antidote/antidote.zsh
antidote load
source ~/.zsh_plugins.zsh

eval "$(op completion zsh)"
eval "$(zoxide init zsh)"
eval "$(starship init zsh)"
eval "$(mcfly init zsh)"

# pnpm aliases (using corepack)
alias p="pnpm"
alias pi="pnpm install"
alias pa="pnpm add"
alias pad="pnpm add -D"
alias pr="pnpm run"
alias px="pnpm exec"
alias prd="pnpm run dev"
alias prb="pnpm run build"
alias prt="pnpm run test"
alias pu="pnpm update"
alias prm="pnpm remove"

# fnm - Fast Node Manager
eval "$(fnm env --use-on-cd)"

# Random tool tip on shell startup
function show_random_tip() {
  local tips_file="$HOME/.config/shell-tips.txt"
  if [[ -f "$tips_file" ]]; then
    # Get random tip (excluding comments and empty lines)
    # Use sort -R for macOS compatibility (shuf not available by default)
    local tip=$(grep -v '^#' "$tips_file" | grep -v '^$' | sort -R | head -n 1)
    if [[ -n "$tip" ]]; then
      echo ""
      echo "$tip"
      echo ""
    fi
  fi
}

# Show tip on new interactive shells
show_random_tip
