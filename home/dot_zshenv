# ~/.zshenv - Runs for ALL shells (interactive and non-interactive)
# Keep this minimal - only PATH and critical environment variables
# This ensures tools like VSCode can find node, npm, etc. when restored by macOS

# Add local binaries
export PATH="$HOME/bin:$HOME/.local/bin:/usr/local/bin:$PATH"

# Homebrew (critical for finding node, npm, and all brew-installed tools)
# Skip full shellenv in Claude Code sandbox (it calls /bin/ps which is blocked)
if [[ -n "$CLAUDE_CODE" ]]; then
  # Minimal Homebrew PATH setup for sandboxed environments
  export HOMEBREW_PREFIX="/opt/homebrew"
  export PATH="/opt/homebrew/bin:/opt/homebrew/sbin:$PATH"
else
  eval "$(/opt/homebrew/bin/brew shellenv)"
fi
